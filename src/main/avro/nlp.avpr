{"namespace": "org.librairy.service.nlp.facade.model",
 "protocol": "NlpService",

 "types": [
    {"name": "PoS", "type": "enum","symbols": ["NOUN","VERB","ADJECTIVE","ADVERB","PRONOUN","PREPOSITION","CONJUNCTION","INTERJECTION","ARTICLE"]},
    {"name": "Domain", "type": "enum","symbols": ["WORDNET","DBPEDIA","EUROVOC"]},
    {"name": "Form", "type": "enum","symbols": ["RAW","LEMMA"]},
    {"name": "Token", "type": "record", "fields": [
     {"name":"target","type":"string","order":"ignore"},
     {"name":"lemma","type":"string"},
     {"name":"morphoFeat","type":["null","string"],"default":null,"order":"ignore"},
     {"name":"pos","type":"PoS","order":"ignore"},
     {"name":"type","type":["null","string"],"default":null,"order":"ignore"}
    ]},
    {"name": "Annotation", "type": "record", "fields": [
      {"name":"token","type":"Token"},
      {"name":"offset","type":"long","order":"ignore"},
      {"name":"sentiment","type":["null","string"],"default":null,"order":"ignore"},
      {"name":"uri","type":["null","string"],"default":null,"order":"ignore"}
    ]},
   {"name": "Group", "type": "record", "fields": [
     {"name":"token","type":"string"},
     {"name":"pos","type":"PoS","order":"ignore"},
     {"name":"uri","type":["null","string"],"default":null,"order":"ignore"},
     {"name":"freq","type":"long","order":"ignore"}
   ]}
 ],

 "messages": {
     "tokens": {
       "request": [{"name": "text", "type": "string"},{"name": "filter", "type": {"type" : "array","items":"PoS"}},{"name": "form", "type": "Form"},{"name": "domain", "type": "Domain"}],
       "response": "string"
     },
     "annotations":{
       "request": [{"name": "text", "type": "string"},{"name": "filter", "type": {"type" : "array","items":"PoS"}},{"name": "domain", "type": "Domain"}],
       "response": {"type" : "array","items":"Annotation"}
     },
     "groups":{
       "request": [{"name": "text", "type": "string"},{"name": "filter", "type": {"type" : "array","items":"PoS"}},{"name": "domain", "type": "Domain"}],
       "response": {"type" : "array","items":"Group"}
     }
 }
}